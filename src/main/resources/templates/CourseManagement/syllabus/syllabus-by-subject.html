<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title th:text="'Syllabus for Subject'">Custom Page Title</title>-->
<!--</head>-->
<!--<body>-->

<!--&lt;!&ndash; Replace the content section &ndash;&gt;-->
<!--<div th:replace="layout/base.html">-->
<!--    <div th:fragment="content">-->
<!--        <h2>Syllabus for Subject</h2>-->
<!--        <a th:href="@{/admin/syllabus/add/{subjectID}(subjectID=${subjectId})}">Add New Syllabus</a>-->

<!--        <table border="1">-->
<!--            <thead>-->
<!--            <tr>-->
<!--                <th>Unit No</th>-->
<!--                <th>Unit Name</th>-->
<!--                <th>Topics</th>-->
<!--                <th>Resources</th>-->
<!--                <th>Actions</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="syllabus : ${syllabusList}">-->
<!--                <td th:text="${syllabus.unitNo}"></td>-->
<!--                <td th:text="${syllabus.unitName}"></td>-->
<!--                <td>-->
<!--                    <ul>-->
<!--                        <li th:each="topic : ${syllabus.topics}" th:text="${topic}"></li>-->
<!--                    </ul>-->
<!--                </td>-->
<!--                <td th:text="${syllabus.resources}"></td>-->
<!--                <td th:if="${userRole == 'ADMIN'}">-->
<!--                    <a th:href="@{/admin/syllabus/edit/{id}(id=${syllabus.syllabusid})}">Edit</a> |-->
<!--                    <a th:href="@{/admin/syllabus/delete/{id}(id=${syllabus.syllabusid})}"-->
<!--                       onclick="return confirm('Are you sure?')">Delete</a>-->
<!--                </td>-->
<!--                <td th:if="${userRole == 'FACULTY'}">-->
<!--                    <a th:href="@{/faculty/syllabus/edit/{id}(id=${syllabus.syllabusid})}">Edit</a> |-->
<!--                    <a th:href="@{/faculty/syllabus/delete/{id}(id=${syllabus.syllabusid})}"-->
<!--                       onclick="return confirm('Are you sure?')">Delete</a>-->
<!--                </td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--</div>-->

<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Syllabus for Subject'">Syllabus</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
</head>
<body>

<!-- Replace the content section -->
<div th:replace="layout/base.html">
    <div th:fragment="content">
        <h2 class="mb-2 page-title">Syllabus for Subject</h2>

        <span th:if="${userRole == 'ADMIN'}">
        <!-- Button to add syllabus -->
        <a class="btn btn-primary mb-3" th:href="@{/admin/syllabus/add/{subjectID}(subjectID=${subjectId})}">
            Add New Syllabus
        </a>
        </span>
        <span th:if="${userRole == 'FACULTY'}">
             <a class="btn btn-primary mb-3" th:href="@{/faculty/syllabus/add/{subjectID}(subjectID=${subjectId})}">
            Add New Syllabus
        </a>
        </span>
        <div class="row my-4">
            <div class="col-md-12">
                <div class="card shadow">
                    <div class="card-body">
                        <table class="table datatables" id="syllabusTable">
                            <thead>
                            <tr>
                                <th>Unit No</th>
                                <th>Unit Name</th>
                                <th>Topics</th>
                                <th>Resources</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="syllabus : ${syllabusList}">
                                <td th:text="${syllabus.unitNo}"></td>
                                <td th:text="${syllabus.unitName}"></td>
                                <td>
                                    <ul>
                                        <li th:each="topic : ${syllabus.topics}" th:text="${topic}"></li>
                                    </ul>
                                </td>
                                <td th:text="${syllabus.resources}"></td>
                                <td>
                                        <span th:if="${userRole == 'ADMIN'}">
                                            <a class="btn btn-sm btn-warning"
                                               th:href="@{/admin/syllabus/update/{id}(id=${syllabus.syllabusid})}">Edit</a>
                                            <a class="btn btn-sm btn-danger"
                                               th:href="@{/admin/syllabus/delete/{id}(id=${syllabus.syllabusid})}"
                                               onclick="return confirm('Are you sure?')">Delete</a>
                                        </span>
                                    <span th:if="${userRole == 'FACULTY'}">
                                            <a class="btn btn-sm btn-warning"
                                               th:href="@{/faculty/syllabus/update/{id}(id=${syllabus.syllabusid})}">Edit</a>
                                            <a class="btn btn-sm btn-danger"
                                               th:href="@{/faculty/syllabus/delete/{id}(id=${syllabus.syllabusid})}"
                                               onclick="return confirm('Are you sure?')">Delete</a>
                                        </span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    $(document).ready(function () {
        $('#syllabusTable').DataTable({
            autoWidth: true
        });
    });
</script>

</body>
</html>
